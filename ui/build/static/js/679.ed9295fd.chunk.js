"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[679],{679:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r,i,s,a=t(982),l=t(214),u=t(861),c=t(885),o=t(791),d=t(682),p=t(249),h=t(871),m=t(324),f=t(184),_=function(e){var n=e.user,t=(0,h.s0)(),r=(0,o.useMemo)((function(){return new Date(n.birthDate).toISOString().substring(0,10)}),[n.birthDate]),i=(0,o.useState)({signature:m.Me,photo:m.Me,fingerprint:m.Me}),s=(0,c.Z)(i,2),a=s[0],l=s[1],u=function(){return l((function(){return{signature:m.Me,photo:m.Me,fingerprint:m.Me}}))};return(0,o.useEffect)((function(){l((function(){return{signature:"".concat(m.T$,"/uploaded/").concat(n.signatureFileUrl),photo:"".concat(m.T$,"/uploaded/").concat(n.photoFileUrl),fingerprint:"".concat(m.T$,"/uploaded/").concat(n.fingerprintFileUrl)}}))}),[n.signatureFileUrl,n.photoFileUrl,n.fingerprintFileUrl]),(0,f.jsxs)("div",{className:"user__element__container",onClick:function(){return t("".concat(m.mD.USER_DETAIL_NO_PARAM,"/").concat(n.id))},children:[(0,f.jsxs)("h2",{children:[n.givenNames," ",n.familyNames]}),(0,f.jsxs)("div",{className:"user__element__grouping",children:[(0,f.jsx)("div",{className:"user__element__profile__picture",children:(0,f.jsx)("img",{src:a.photo,onError:u,alt:"User"})}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"givenNames",children:"Given names:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.givenNames})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"familyNames",children:"Family names:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.familyNames})]})]}),(0,f.jsxs)("div",{className:"user__element__grouping",children:[(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"Document ID number:"}),(0,f.jsx)("input",{disabled:!0,type:"number",value:n.docIdNumber})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"birthDate",children:"Birth date:"}),(0,f.jsx)("input",{disabled:!0,type:"date",value:r})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"givenNames",children:"Gender:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.gender})]})]}),(0,f.jsxs)("div",{className:"user__element__grouping",children:[(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"Country"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.countryCode})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"State:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.state})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"City:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.city})]})]}),(0,f.jsxs)("div",{className:"user__element__grouping",children:[(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"Signature file:"}),(0,f.jsx)("div",{className:"user__element__signature__picture",children:(0,f.jsx)("img",{src:a.signature,onError:u,alt:"User"})})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"Fingerprint file:"}),(0,f.jsx)("div",{className:"user__element__fingerprint__picture",children:(0,f.jsx)("img",{src:a.fingerprint,onError:u,alt:"User"})})]})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"familyNames",children:"Expedition place:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.expeditionPlace})]}),(0,f.jsxs)("div",{className:"user__element__grouping",children:[(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"givenNames",children:"Height (cm):"}),(0,f.jsx)("input",{disabled:!0,type:"number",value:n.height})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"givenNames",children:"Blood type:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.bloodType})]}),(0,f.jsxs)("div",{className:"input__user__element",children:[(0,f.jsx)("label",{htmlFor:"familyNames",children:"RH:"}),(0,f.jsx)("input",{disabled:!0,type:"text",value:n.rh})]})]})]})},x=t(191),g=function(e){var n=e.isDialogActive,t=e.setDialogTypeActive,r=e.childrenComponents;return n?(0,f.jsxs)("div",{className:"dialog",children:[(0,f.jsx)("span",{className:"exit",onClick:function(){return t()},children:"\u274c"}),r]}):null},v=t(942),j=t(413);!function(e){e.A="A",e.B="B",e.AB="AB",e.O="O",e.Undefined="Undefined"}(r||(r={})),function(e){e.Positive="Positive",e.Negative="Negative",e.Undefined="Undefined"}(i||(i={})),function(e){e.Male="Male",e.Female="Female",e.Other="Other",e.Undefined="Undefined"}(s||(s={}));var b=t(127),N=function(e){var n=e.handleAddUser,t=(0,o.useState)({gender:s.Undefined,bloodType:r.Undefined,rh:i.Undefined}),a=(0,c.Z)(t,2),l=a[0],u=a[1],d=(0,o.useRef)(null),p=(0,o.useRef)(null),h=(0,o.useRef)(null),m=(0,o.useRef)(new FormData),_=(0,o.useState)([]),g=(0,c.Z)(_,2),N=g[0],y=g[1],F=(0,o.useState)([]),C=(0,c.Z)(F,2),Z=C[0],U=C[1],S=(0,o.useState)((new Date).toISOString().substring(0,10)),D=(0,c.Z)(S,2),w=D[0],I=D[1],R=function(e,n){if(e){e.preventDefault();var t=e.target,r=t.name,i=t.value;switch(r){case"signatureFileUrl":d.current&&function(){for(var e=d.current.files?d.current.files:new FileList,n=function(n){m.current.append("files",e[n],encodeURIComponent(e[n].name)),u((function(t){return(0,j.Z)((0,j.Z)({},t),{},{signatureFileUrl:e[n].name})}))},t=0;t<e.length;t++)n(t)}();break;case"photoFileUrl":p.current&&function(){for(var e=p.current.files?p.current.files:new FileList,n=function(n){m.current.append("files",e[n],encodeURIComponent(e[n].name)),u((function(t){return(0,j.Z)((0,j.Z)({},t),{},{photoFileUrl:e[n].name})}))},t=0;t<e.length;t++)n(t)}();break;case"fingerprintFileUrl":h.current&&function(){for(var e=h.current.files?h.current.files:new FileList,n=function(n){m.current.append("files",e[n],encodeURIComponent(e[n].name)),u((function(t){return(0,j.Z)((0,j.Z)({},t),{},{fingerprintFileUrl:e[n].name})}))},t=0;t<e.length;t++)n(t)}();break;case"birthDate":var s=new Date(i);I((function(){return s.toISOString().substring(0,10)})),u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{birthDate:s.toISOString()})}));break;case"docIdNumber":u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{docIdNumber:+i})}));break;case"height":u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{height:+i})}));break;default:u((function(e){return(0,j.Z)((0,j.Z)({},e),{},(0,v.Z)({},r,i))}))}}if(n){n.preventDefault();var a=n.target,c=a.name,o=a.value;switch(c){case"countryCode":y((function(){return b.State.getStatesOfCountry(o)})),U((function(){return[]})),u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{countryCode:"No country selected"===o?void 0:o,state:void 0,city:void 0})}));break;case"state":if(l.countryCode){var f=l.countryCode;U((function(){return b.City.getCitiesOfState(f,o)})),u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{state:"No state selected"===o?void 0:o,city:void 0})}))}break;case"city":u((function(e){return(0,j.Z)((0,j.Z)({},e),{},{city:"No city selected"===o?void 0:o})}));break;default:u((function(e){return(0,j.Z)((0,j.Z)({},e),{},(0,v.Z)({},c,o))}))}}};return(0,o.useEffect)((function(){console.log(l)}),[l]),(0,f.jsxs)("form",{className:"add__user__container",onSubmit:function(e){e.preventDefault(),n(l,m.current)},children:[(0,f.jsx)("h2",{children:"Add User"}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"givenNames",children:"Given names:"}),(0,f.jsx)("input",{type:"text",id:"givenNames",name:"givenNames",value:l.givenNames,onChange:function(e){return R(e)},placeholder:"e.g. Santiago Felipe..."})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"familyNames",children:"Family names:"}),(0,f.jsx)("input",{type:"text",id:"familyNames",name:"familyNames",value:l.familyNames,onChange:function(e){return R(e)},placeholder:"e.g. M\xfanera D\xe1vila..."})]})]}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"docIdNumber",children:"Document ID number:"}),(0,f.jsx)("input",{type:"number",id:"docIdNumber",name:"docIdNumber",value:l.docIdNumber,onChange:function(e){return R(e)},placeholder:"e.g. 123456..."})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"birthDate",children:"Birth date:"}),(0,f.jsx)("input",{type:"date",id:"birthDate",name:"birthDate",value:l?new Date(w).toISOString().substring(0,10):l,onChange:function(e){return R(e)}})]})]}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"countryCode",children:"Country"}),(0,f.jsxs)("select",{id:"countryCode",name:"countryCode",value:l.countryCode,onChange:function(e){return R(void 0,e)},placeholder:"Select a country...",children:[(0,f.jsx)("option",{children:"No country selected"}),b.Country.getAllCountries().map((function(e){return(0,f.jsxs)("option",{value:e.isoCode,children:[e.name," ","(".concat(e.flag,")")]},e.isoCode)}))]})]}),!!N.length&&(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"state",children:"State:"}),(0,f.jsxs)("select",{id:"state",name:"state",value:l.state,onChange:function(e){return R(void 0,e)},placeholder:"Select a state...",children:[(0,f.jsx)("option",{children:"No state selected"}),N.map((function(e){return(0,f.jsxs)("option",{value:e.isoCode,children:[e.name," ","(".concat(e.isoCode,")")]},e.name)}))]})]}),!!Z.length&&(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"city",children:"City:"}),(0,f.jsxs)("select",{id:"city",name:"city",value:l.city,onChange:function(e){return R(void 0,e)},placeholder:"Select a city...",children:[(0,f.jsx)("option",{children:"No city selected"}),Z.map((function(e){return(0,f.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]})]}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"signatureFileUrl",children:"Signature file:"}),(0,f.jsxs)("label",{className:"add__user__file__input",children:[l.signatureFileUrl?l.signatureFileUrl:"Select an image file for signature...",(0,f.jsx)("input",{ref:d,type:"file",id:"signatureFileUrl",name:"signatureFileUrl",onChange:function(e){return R(e)},placeholder:"Select an image file for signature..."})]})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"photoFileUrl",children:"Photo file:"}),(0,f.jsxs)("label",{className:"add__user__file__input",children:[l.photoFileUrl?l.photoFileUrl:"Select an image file for photo...",(0,f.jsx)("input",{ref:p,type:"file",id:"photoFileUrl",name:"photoFileUrl",onChange:function(e){return R(e)},placeholder:"Select an image file for photo..."})]})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"fingerprintFileUrl",children:"Fingerprint file:"}),(0,f.jsxs)("label",{className:"add__user__file__input",children:[l.fingerprintFileUrl?l.fingerprintFileUrl:"Select an image file for fingerprint...",(0,f.jsx)("input",{ref:h,type:"file",id:"fingerprintFileUrl",name:"fingerprintFileUrl",onChange:function(e){return R(e)},placeholder:"Select an image file for fingerprint..."})]})]})]}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"gender",children:"Gender:"}),(0,f.jsx)("select",{id:"gender",name:"gender",value:l.gender,onChange:function(e){return R(void 0,e)},placeholder:"Select a gender...",children:["Male","Female","Other","Undefined"].map((function(e){return(0,f.jsx)("option",{value:e,children:e},e)}))})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"expeditionPlace",children:"Expedition place:"}),(0,f.jsx)("input",{type:"text",id:"expeditionPlace",name:"expeditionPlace",value:l.expeditionPlace,onChange:function(e){return R(e)},placeholder:"e.g. Bogot\xe1 D.C. ..."})]})]}),(0,f.jsxs)("div",{className:"input__grouping",children:[(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"height",children:"Height (cm):"}),(0,f.jsx)("input",{type:"number",id:"height",name:"height",value:l.height,onChange:function(e){return R(e)},placeholder:"e.g. 180cm..."})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"bloodType",children:"Blood type:"}),(0,f.jsx)("select",{id:"bloodType",name:"bloodType",value:l.bloodType,onChange:function(e){return R(void 0,e)},placeholder:"Select a blood type...",children:["A","B","AB","O","Undefined"].map((function(e){return(0,f.jsx)("option",{value:e,children:e},e)}))})]}),(0,f.jsxs)("div",{className:"input__add__user",children:[(0,f.jsx)("label",{htmlFor:"rh",children:"RH:"}),(0,f.jsx)("select",{id:"rh",name:"rh",value:l.rh,onChange:function(e){return R(void 0,e)},placeholder:"Select a RH...",children:["Positive","Negative","Undefined"].map((function(e){return(0,f.jsx)("option",{value:e,children:e},e)}))})]})]}),(0,f.jsx)("br",{}),(0,f.jsx)(x.Z,{className:"primary",type:"submit",height:"50px",border:"none",borderRadius:"6px",width:"120px",childrenText:"Add User"})]})},y=function(){var e=(0,o.useState)([]),n=(0,c.Z)(e,2),t=n[0],r=n[1],i=(0,o.useState)(!1),s=(0,c.Z)(i,2),h=s[0],m=s[1],v=(0,o.useState)(!1),j=(0,c.Z)(v,2),b=j[0],y=j[1],F=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(){var n,t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m((function(){return!0})),e.next=3,(0,p.AW)();case 3:n=e.sent,m((function(){return!1})),(t=n.data)&&r((function(){return t}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,u.Z)((0,l.Z)().mark((function e(n,t){var i,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m((function(){return!0})),!t){e.next=9;break}return e.next=4,(0,p.IL)(t);case 4:return e.next=6,(0,p.l1)(n);case 6:i=e.sent,(s=i.data)&&(r((function(e){return[].concat((0,a.Z)(e),[s])})),Z());case 9:m((function(){return!1}));case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(){y((function(e){return!e}))};return(0,o.useEffect)((function(){window.scrollTo(0,0),F()}),[]),(0,f.jsxs)(o.Fragment,{children:[(0,f.jsxs)("header",{className:"header",children:["User Directory (Mobiera's Full Stack Test)",(0,f.jsx)(x.Z,{className:"primary",type:"button",height:"50px",border:"none",borderRadius:"6px",width:"120px",childrenText:"Add User",onClick:function(){return Z()}})]}),(0,f.jsx)(g,{isDialogActive:b,setDialogTypeActive:Z,childrenComponents:(0,f.jsx)(N,{handleAddUser:C})}),(0,f.jsx)("div",{className:"user__list__container",children:h?(0,f.jsx)(d.Z,{}):t.length?t.map((function(e){return(0,f.jsx)(_,{user:e},e.docIdNumber)})):null})]})}},249:function(e,n,t){t.d(n,{AW:function(){return l},IL:function(){return c},l1:function(){return a},tv:function(){return u}});var r=t(214),i=t(861),s=t(324),a=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/user",e.next=4,fetch("".concat(s.Sl).concat("/user"),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return t=e.sent,e.next=7,t.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"error",errorCode:"FETCH_ERROR",statusCode:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/user",e.next=4,fetch("".concat(s.Sl).concat("/user"));case 4:return n=e.sent,e.next=7,n.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"error",errorCode:"FETCH_ERROR",statusCode:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/user/detail/".concat(n),e.next=4,fetch("".concat(s.Sl).concat(t));case 4:return i=e.sent,e.next=7,i.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"error",errorCode:"FETCH_ERROR",statusCode:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/upload_files",e.next=4,fetch("".concat(s.T$).concat("/upload_files"),{method:"POST",body:n});case 4:return t=e.sent,e.next=7,t.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"error",errorCode:"FETCH_ERROR",statusCode:500,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=679.ed9295fd.chunk.js.map